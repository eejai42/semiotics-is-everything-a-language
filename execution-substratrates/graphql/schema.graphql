# ERB Schema - GraphQL Implementation
# Generated from effortless-rulebook/effortless-rulebook.json
#
# DAG Execution Order:
#   Level 0: Raw fields
#   Level 1: familyFuedQuestion, hasGrammar, relationshipToConcept
#   Level 2: topFamilyFeudAnswer (depends on raw fields)
#   Level 3: familyFeudMismatch (depends on topFamilyFeudAnswer)

type Query {
  """Get all language candidates with calculated fields"""
  languageCandidates: [LanguageCandidate!]!

  """Get a single language candidate by ID"""
  languageCandidate(id: ID!): LanguageCandidate
}

"""Entity: LanguageCandidates"""
type LanguageCandidates {
  # Raw Fields
  languageCandidateId: String!
  name: String
  category: String
  chosenLanguageCandidate: Boolean
  hasSyntax: Boolean
  hasIdentity: Boolean
  canBeHeld: Boolean
  requiresParsing: Boolean
  resolvesToAnAST: Boolean
  hasLinearDecodingPressure: Boolean
  isStableOntologyReference: Boolean
  isLiveOntologyEditor: Boolean
  dimensionalityWhileEditing: String
  isOpenWorld: Boolean
  isClosedWorld: Boolean
  distanceFromConcept: Int
  modelObjectFacilityLayer: String
  sortOrder: Int

  # Calculated Fields
  """Formula: ="Is " & {{Name}} & " a language?""""
  familyFuedQuestion: String
  """Formula: =AND(   {{HasSyntax}},   {{RequiresParsing}},   {{IsDescript..."""
  topFamilyFeudAnswer: Boolean
  """Formula: =IF(NOT({{TopFamilyFeudAnswer}} = {{ChosenLanguageCandidate}..."""
  familyFeudMismatch: String
  """Formula: ={{HasSyntax}} = TRUE()"""
  hasGrammar: Boolean
  """Formula: =AND({{IsOpenWorld}}, {{IsClosedWorld}})"""
  isOpenClosedWorldConflicted: Boolean
  """Formula: ={{DistanceFromConcept}} > 1"""
  isDescriptionOf: Boolean
  """Formula: =IF({{DistanceFromConcept}} = 1, "IsMirrorOf", "IsDescriptio..."""
  relationshipToConcept: String
}

"""Entity: IsEverythingALanguage"""
type IsEverythingALanguage {
  # Raw Fields
  isEverythingALanguageId: String!
  name: String
  argumentName: String
  argumentCategory: String
  stepType: String
  statement: String
  formalization: String
  relatedCandidateName: String
  relatedCandidateId: String
  evidenceFromRulebook: String
  notes: String
}
